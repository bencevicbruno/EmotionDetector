

// This code requires the Nuget package Microsoft.AspNet.WebApi.Client to be installed.
// Instructions for doing this in Visual Studio:
// Tools -> Nuget Package Manager -> Package Manager Console
// Install-Package Microsoft.AspNet.WebApi.Client

using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Net.Http;
using System.Net.Http.Formatting;
using System.Net.Http.Headers;
using System.Text;
using System.Threading.Tasks;

namespace CallRequestResponseService
{
    class Program
    {
        static void Main(string[] args)
        {
            InvokeRequestResponseService().Wait();
        }

        static async Task InvokeRequestResponseService()
        {
            using (var client = new HttpClient())
            {
                var values = loadDistanceValues();
                Console.WriteLine("Loaded distance values.");
        
                var scoreRequest = new
                {
                    Inputs = new Dictionary<string, StringTable>()
                    {
                        {
                            "input1",
                            new StringTable()
                            {
                                ColumnNames = new string[] {"d0001", "d0002", "d0003", "d0004", "d0005", "d0006", "d0007", "d0008", "d0009", "d0010", "d0011", "d0012", "d0013", "d0014", "d0015", "d0016", "d0017", "d0018", "d0019", "d0020", "d0021", "d0022", "d0023", "d0024", "d0025", "d0026", "d0027", "d0028", "d0029", "d0030", "d0031", "d0032", "d0033", "d0034", "d0035", "d0036", "d0037", "d0038", "d0039", "d0040", "d0041", "d0042", "d0043", "d0044", "d0045", "d0046", "d0047", "d0048", "d0049", "d0050", "d0051", "d0052", "d0053", "d0054", "d0055", "d0056", "d0057", "d0058", "d0059", "d0060", "d0061", "d0062", "d0063", "d0064", "d0065", "d0066", "d0067", "d0102", "d0103", "d0104", "d0105", "d0106", "d0107", "d0108", "d0109", "d0110", "d0111", "d0112", "d0113", "d0114", "d0115", "d0116", "d0117", "d0118", "d0119", "d0120", "d0121", "d0122", "d0123", "d0124", "d0125", "d0126", "d0127", "d0128", "d0129", "d0130", "d0131", "d0132", "d0133", "d0134", "d0135", "d0136", "d0137", "d0138", "d0139", "d0140", "d0141", "d0142", "d0143", "d0144", "d0145", "d0146", "d0147", "d0148", "d0149", "d0150", "d0151", "d0152", "d0153", "d0154", "d0155", "d0156", "d0157", "d0158", "d0159", "d0160", "d0161", "d0162", "d0163", "d0164", "d0165", "d0166", "d0167", "d0203", "d0204", "d0205", "d0206", "d0207", "d0208", "d0209", "d0210", "d0211", "d0212", "d0213", "d0214", "d0215", "d0216", "d0217", "d0218", "d0219", "d0220", "d0221", "d0222", "d0223", "d0224", "d0225", "d0226", "d0227", "d0228", "d0229", "d0230", "d0231", "d0232", "d0233", "d0234", "d0235", "d0236", "d0237", "d0238", "d0239", "d0240", "d0241", "d0242", "d0243", "d0244", "d0245", "d0246", "d0247", "d0248", "d0249", "d0250", "d0251", "d0252", "d0253", "d0254", "d0255", "d0256", "d0257", "d0258", "d0259", "d0260", "d0261", "d0262", "d0263", "d0264", "d0265", "d0266", "d0267", "d0304", "d0305", "d0306", "d0307", "d0308", "d0309", "d0310", "d0311", "d0312", "d0313", "d0314", "d0315", "d0316", "d0317", "d0318", "d0319", "d0320", "d0321", "d0322", "d0323", "d0324", "d0325", "d0326", "d0327", "d0328", "d0329", "d0330", "d0331", "d0332", "d0333", "d0334", "d0335", "d0336", "d0337", "d0338", "d0339", "d0340", "d0341", "d0342", "d0343", "d0344", "d0345", "d0346", "d0347", "d0348", "d0349", "d0350", "d0351", "d0352", "d0353", "d0354", "d0355", "d0356", "d0357", "d0358", "d0359", "d0360", "d0361", "d0362", "d0363", "d0364", "d0365", "d0366", "d0367", "d0405", "d0406", "d0407", "d0408", "d0409", "d0410", "d0411", "d0412", "d0413", "d0414", "d0415", "d0416", "d0417", "d0418", "d0419", "d0420", "d0421", "d0422", "d0423", "d0424", "d0425", "d0426", "d0427", "d0428", "d0429", "d0430", "d0431", "d0432", "d0433", "d0434", "d0435", "d0436", "d0437", "d0438", "d0439", "d0440", "d0441", "d0442", "d0443", "d0444", "d0445", "d0446", "d0447", "d0448", "d0449", "d0450", "d0451", "d0452", "d0453", "d0454", "d0455", "d0456", "d0457", "d0458", "d0459", "d0460", "d0461", "d0462", "d0463", "d0464", "d0465", "d0466", "d0467", "d0506", "d0507", "d0508", "d0509", "d0510", "d0511", "d0512", "d0513", "d0514", "d0515", "d0516", "d0517", "d0518", "d0519", "d0520", "d0521", "d0522", "d0523", "d0524", "d0525", "d0526", "d0527", "d0528", "d0529", "d0530", "d0531", "d0532", "d0533", "d0534", "d0535", "d0536", "d0537", "d0538", "d0539", "d0540", "d0541", "d0542", "d0543", "d0544", "d0545", "d0546", "d0547", "d0548", "d0549", "d0550", "d0551", "d0552", "d0553", "d0554", "d0555", "d0556", "d0557", "d0558", "d0559", "d0560", "d0561", "d0562", "d0563", "d0564", "d0565", "d0566", "d0567", "d0607", "d0608", "d0609", "d0610", "d0611", "d0612", "d0613", "d0614", "d0615", "d0616", "d0617", "d0618", "d0619", "d0620", "d0621", "d0622", "d0623", "d0624", "d0625", "d0626", "d0627", "d0628", "d0629", "d0630", "d0631", "d0632", "d0633", "d0634", "d0635", "d0636", "d0637", "d0638", "d0639", "d0640", "d0641", "d0642", "d0643", "d0644", "d0645", "d0646", "d0647", "d0648", "d0649", "d0650", "d0651", "d0652", "d0653", "d0654", "d0655", "d0656", "d0657", "d0658", "d0659", "d0660", "d0661", "d0662", "d0663", "d0664", "d0665", "d0666", "d0667", "d0708", "d0709", "d0710", "d0711", "d0712", "d0713", "d0714", "d0715", "d0716", "d0717", "d0718", "d0719", "d0720", "d0721", "d0722", "d0723", "d0724", "d0725", "d0726", "d0727", "d0728", "d0729", "d0730", "d0731", "d0732", "d0733", "d0734", "d0735", "d0736", "d0737", "d0738", "d0739", "d0740", "d0741", "d0742", "d0743", "d0744", "d0745", "d0746", "d0747", "d0748", "d0749", "d0750", "d0751", "d0752", "d0753", "d0754", "d0755", "d0756", "d0757", "d0758", "d0759", "d0760", "d0761", "d0762", "d0763", "d0764", "d0765", "d0766", "d0767", "d0809", "d0810", "d0811", "d0812", "d0813", "d0814", "d0815", "d0816", "d0817", "d0818", "d0819", "d0820", "d0821", "d0822", "d0823", "d0824", "d0825", "d0826", "d0827", "d0828", "d0829", "d0830", "d0831", "d0832", "d0833", "d0834", "d0835", "d0836", "d0837", "d0838", "d0839", "d0840", "d0841", "d0842", "d0843", "d0844", "d0845", "d0846", "d0847", "d0848", "d0849", "d0850", "d0851", "d0852", "d0853", "d0854", "d0855", "d0856", "d0857", "d0858", "d0859", "d0860", "d0861", "d0862", "d0863", "d0864", "d0865", "d0866", "d0867", "d0910", "d0911", "d0912", "d0913", "d0914", "d0915", "d0916", "d0917", "d0918", "d0919", "d0920", "d0921", "d0922", "d0923", "d0924", "d0925", "d0926", "d0927", "d0928", "d0929", "d0930", "d0931", "d0932", "d0933", "d0934", "d0935", "d0936", "d0937", "d0938", "d0939", "d0940", "d0941", "d0942", "d0943", "d0944", "d0945", "d0946", "d0947", "d0948", "d0949", "d0950", "d0951", "d0952", "d0953", "d0954", "d0955", "d0956", "d0957", "d0958", "d0959", "d0960", "d0961", "d0962", "d0963", "d0964", "d0965", "d0966", "d0967", "d1011", "d1012", "d1013", "d1014", "d1015", "d1016", "d1017", "d1018", "d1019", "d1020", "d1021", "d1022", "d1023", "d1024", "d1025", "d1026", "d1027", "d1028", "d1029", "d1030", "d1031", "d1032", "d1033", "d1034", "d1035", "d1036", "d1037", "d1038", "d1039", "d1040", "d1041", "d1042", "d1043", "d1044", "d1045", "d1046", "d1047", "d1048", "d1049", "d1050", "d1051", "d1052", "d1053", "d1054", "d1055", "d1056", "d1057", "d1058", "d1059", "d1060", "d1061", "d1062", "d1063", "d1064", "d1065", "d1066", "d1067", "d1112", "d1113", "d1114", "d1115", "d1116", "d1117", "d1118", "d1119", "d1120", "d1121", "d1122", "d1123", "d1124", "d1125", "d1126", "d1127", "d1128", "d1129", "d1130", "d1131", "d1132", "d1133", "d1134", "d1135", "d1136", "d1137", "d1138", "d1139", "d1140", "d1141", "d1142", "d1143", "d1144", "d1145", "d1146", "d1147", "d1148", "d1149", "d1150", "d1151", "d1152", "d1153", "d1154", "d1155", "d1156", "d1157", "d1158", "d1159", "d1160", "d1161", "d1162", "d1163", "d1164", "d1165", "d1166", "d1167", "d1213", "d1214", "d1215", "d1216", "d1217", "d1218", "d1219", "d1220", "d1221", "d1222", "d1223", "d1224", "d1225", "d1226", "d1227", "d1228", "d1229", "d1230", "d1231", "d1232", "d1233", "d1234", "d1235", "d1236", "d1237", "d1238", "d1239", "d1240", "d1241", "d1242", "d1243", "d1244", "d1245", "d1246", "d1247", "d1248", "d1249", "d1250", "d1251", "d1252", "d1253", "d1254", "d1255", "d1256", "d1257", "d1258", "d1259", "d1260", "d1261", "d1262", "d1263", "d1264", "d1265", "d1266", "d1267", "d1314", "d1315", "d1316", "d1317", "d1318", "d1319", "d1320", "d1321", "d1322", "d1323", "d1324", "d1325", "d1326", "d1327", "d1328", "d1329", "d1330", "d1331", "d1332", "d1333", "d1334", "d1335", "d1336", "d1337", "d1338", "d1339", "d1340", "d1341", "d1342", "d1343", "d1344", "d1345", "d1346", "d1347", "d1348", "d1349", "d1350", "d1351", "d1352", "d1353", "d1354", "d1355", "d1356", "d1357", "d1358", "d1359", "d1360", "d1361", "d1362", "d1363", "d1364", "d1365", "d1366", "d1367", "d1415", "d1416", "d1417", "d1418", "d1419", "d1420", "d1421", "d1422", "d1423", "d1424", "d1425", "d1426", "d1427", "d1428", "d1429", "d1430", "d1431", "d1432", "d1433", "d1434", "d1435", "d1436", "d1437", "d1438", "d1439", "d1440", "d1441", "d1442", "d1443", "d1444", "d1445", "d1446", "d1447", "d1448", "d1449", "d1450", "d1451", "d1452", "d1453", "d1454", "d1455", "d1456", "d1457", "d1458", "d1459", "d1460", "d1461", "d1462", "d1463", "d1464", "d1465", "d1466", "d1467", "d1516", "d1517", "d1518", "d1519", "d1520", "d1521", "d1522", "d1523", "d1524", "d1525", "d1526", "d1527", "d1528", "d1529", "d1530", "d1531", "d1532", "d1533", "d1534", "d1535", "d1536", "d1537", "d1538", "d1539", "d1540", "d1541", "d1542", "d1543", "d1544", "d1545", "d1546", "d1547", "d1548", "d1549", "d1550", "d1551", "d1552", "d1553", "d1554", "d1555", "d1556", "d1557", "d1558", "d1559", "d1560", "d1561", "d1562", "d1563", "d1564", "d1565", "d1566", "d1567", "d1617", "d1618", "d1619", "d1620", "d1621", "d1622", "d1623", "d1624", "d1625", "d1626", "d1627", "d1628", "d1629", "d1630", "d1631", "d1632", "d1633", "d1634", "d1635", "d1636", "d1637", "d1638", "d1639", "d1640", "d1641", "d1642", "d1643", "d1644", "d1645", "d1646", "d1647", "d1648", "d1649", "d1650", "d1651", "d1652", "d1653", "d1654", "d1655", "d1656", "d1657", "d1658", "d1659", "d1660", "d1661", "d1662", "d1663", "d1664", "d1665", "d1666", "d1667", "d1718", "d1719", "d1720", "d1721", "d1722", "d1723", "d1724", "d1725", "d1726", "d1727", "d1728", "d1729", "d1730", "d1731", "d1732", "d1733", "d1734", "d1735", "d1736", "d1737", "d1738", "d1739", "d1740", "d1741", "d1742", "d1743", "d1744", "d1745", "d1746", "d1747", "d1748", "d1749", "d1750", "d1751", "d1752", "d1753", "d1754", "d1755", "d1756", "d1757", "d1758", "d1759", "d1760", "d1761", "d1762", "d1763", "d1764", "d1765", "d1766", "d1767", "d1819", "d1820", "d1821", "d1822", "d1823", "d1824", "d1825", "d1826", "d1827", "d1828", "d1829", "d1830", "d1831", "d1832", "d1833", "d1834", "d1835", "d1836", "d1837", "d1838", "d1839", "d1840", "d1841", "d1842", "d1843", "d1844", "d1845", "d1846", "d1847", "d1848", "d1849", "d1850", "d1851", "d1852", "d1853", "d1854", "d1855", "d1856", "d1857", "d1858", "d1859", "d1860", "d1861", "d1862", "d1863", "d1864", "d1865", "d1866", "d1867", "d1920", "d1921", "d1922", "d1923", "d1924", "d1925", "d1926", "d1927", "d1928", "d1929", "d1930", "d1931", "d1932", "d1933", "d1934", "d1935", "d1936", "d1937", "d1938", "d1939", "d1940", "d1941", "d1942", "d1943", "d1944", "d1945", "d1946", "d1947", "d1948", "d1949", "d1950", "d1951", "d1952", "d1953", "d1954", "d1955", "d1956", "d1957", "d1958", "d1959", "d1960", "d1961", "d1962", "d1963", "d1964", "d1965", "d1966", "d1967", "d2021", "d2022", "d2023", "d2024", "d2025", "d2026", "d2027", "d2028", "d2029", "d2030", "d2031", "d2032", "d2033", "d2034", "d2035", "d2036", "d2037", "d2038", "d2039", "d2040", "d2041", "d2042", "d2043", "d2044", "d2045", "d2046", "d2047", "d2048", "d2049", "d2050", "d2051", "d2052", "d2053", "d2054", "d2055", "d2056", "d2057", "d2058", "d2059", "d2060", "d2061", "d2062", "d2063", "d2064", "d2065", "d2066", "d2067", "d2122", "d2123", "d2124", "d2125", "d2126", "d2127", "d2128", "d2129", "d2130", "d2131", "d2132", "d2133", "d2134", "d2135", "d2136", "d2137", "d2138", "d2139", "d2140", "d2141", "d2142", "d2143", "d2144", "d2145", "d2146", "d2147", "d2148", "d2149", "d2150", "d2151", "d2152", "d2153", "d2154", "d2155", "d2156", "d2157", "d2158", "d2159", "d2160", "d2161", "d2162", "d2163", "d2164", "d2165", "d2166", "d2167", "d2223", "d2224", "d2225", "d2226", "d2227", "d2228", "d2229", "d2230", "d2231", "d2232", "d2233", "d2234", "d2235", "d2236", "d2237", "d2238", "d2239", "d2240", "d2241", "d2242", "d2243", "d2244", "d2245", "d2246", "d2247", "d2248", "d2249", "d2250", "d2251", "d2252", "d2253", "d2254", "d2255", "d2256", "d2257", "d2258", "d2259", "d2260", "d2261", "d2262", "d2263", "d2264", "d2265", "d2266", "d2267", "d2324", "d2325", "d2326", "d2327", "d2328", "d2329", "d2330", "d2331", "d2332", "d2333", "d2334", "d2335", "d2336", "d2337", "d2338", "d2339", "d2340", "d2341", "d2342", "d2343", "d2344", "d2345", "d2346", "d2347", "d2348", "d2349", "d2350", "d2351", "d2352", "d2353", "d2354", "d2355", "d2356", "d2357", "d2358", "d2359", "d2360", "d2361", "d2362", "d2363", "d2364", "d2365", "d2366", "d2367", "d2425", "d2426", "d2427", "d2428", "d2429", "d2430", "d2431", "d2432", "d2433", "d2434", "d2435", "d2436", "d2437", "d2438", "d2439", "d2440", "d2441", "d2442", "d2443", "d2444", "d2445", "d2446", "d2447", "d2448", "d2449", "d2450", "d2451", "d2452", "d2453", "d2454", "d2455", "d2456", "d2457", "d2458", "d2459", "d2460", "d2461", "d2462", "d2463", "d2464", "d2465", "d2466", "d2467", "d2526", "d2527", "d2528", "d2529", "d2530", "d2531", "d2532", "d2533", "d2534", "d2535", "d2536", "d2537", "d2538", "d2539", "d2540", "d2541", "d2542", "d2543", "d2544", "d2545", "d2546", "d2547", "d2548", "d2549", "d2550", "d2551", "d2552", "d2553", "d2554", "d2555", "d2556", "d2557", "d2558", "d2559", "d2560", "d2561", "d2562", "d2563", "d2564", "d2565", "d2566", "d2567", "d2627", "d2628", "d2629", "d2630", "d2631", "d2632", "d2633", "d2634", "d2635", "d2636", "d2637", "d2638", "d2639", "d2640", "d2641", "d2642", "d2643", "d2644", "d2645", "d2646", "d2647", "d2648", "d2649", "d2650", "d2651", "d2652", "d2653", "d2654", "d2655", "d2656", "d2657", "d2658", "d2659", "d2660", "d2661", "d2662", "d2663", "d2664", "d2665", "d2666", "d2667", "d2728", "d2729", "d2730", "d2731", "d2732", "d2733", "d2734", "d2735", "d2736", "d2737", "d2738", "d2739", "d2740", "d2741", "d2742", "d2743", "d2744", "d2745", "d2746", "d2747", "d2748", "d2749", "d2750", "d2751", "d2752", "d2753", "d2754", "d2755", "d2756", "d2757", "d2758", "d2759", "d2760", "d2761", "d2762", "d2763", "d2764", "d2765", "d2766", "d2767", "d2829", "d2830", "d2831", "d2832", "d2833", "d2834", "d2835", "d2836", "d2837", "d2838", "d2839", "d2840", "d2841", "d2842", "d2843", "d2844", "d2845", "d2846", "d2847", "d2848", "d2849", "d2850", "d2851", "d2852", "d2853", "d2854", "d2855", "d2856", "d2857", "d2858", "d2859", "d2860", "d2861", "d2862", "d2863", "d2864", "d2865", "d2866", "d2867", "d2930", "d2931", "d2932", "d2933", "d2934", "d2935", "d2936", "d2937", "d2938", "d2939", "d2940", "d2941", "d2942", "d2943", "d2944", "d2945", "d2946", "d2947", "d2948", "d2949", "d2950", "d2951", "d2952", "d2953", "d2954", "d2955", "d2956", "d2957", "d2958", "d2959", "d2960", "d2961", "d2962", "d2963", "d2964", "d2965", "d2966", "d2967", "d3031", "d3032", "d3033", "d3034", "d3035", "d3036", "d3037", "d3038", "d3039", "d3040", "d3041", "d3042", "d3043", "d3044", "d3045", "d3046", "d3047", "d3048", "d3049", "d3050", "d3051", "d3052", "d3053", "d3054", "d3055", "d3056", "d3057", "d3058", "d3059", "d3060", "d3061", "d3062", "d3063", "d3064", "d3065", "d3066", "d3067", "d3132", "d3133", "d3134", "d3135", "d3136", "d3137", "d3138", "d3139", "d3140", "d3141", "d3142", "d3143", "d3144", "d3145", "d3146", "d3147", "d3148", "d3149", "d3150", "d3151", "d3152", "d3153", "d3154", "d3155", "d3156", "d3157", "d3158", "d3159", "d3160", "d3161", "d3162", "d3163", "d3164", "d3165", "d3166", "d3167", "d3233", "d3234", "d3235", "d3236", "d3237", "d3238", "d3239", "d3240", "d3241", "d3242", "d3243", "d3244", "d3245", "d3246", "d3247", "d3248", "d3249", "d3250", "d3251", "d3252", "d3253", "d3254", "d3255", "d3256", "d3257", "d3258", "d3259", "d3260", "d3261", "d3262", "d3263", "d3264", "d3265", "d3266", "d3267", "d3334", "d3335", "d3336", "d3337", "d3338", "d3339", "d3340", "d3341", "d3342", "d3343", "d3344", "d3345", "d3346", "d3347", "d3348", "d3349", "d3350", "d3351", "d3352", "d3353", "d3354", "d3355", "d3356", "d3357", "d3358", "d3359", "d3360", "d3361", "d3362", "d3363", "d3364", "d3365", "d3366", "d3367", "d3435", "d3436", "d3437", "d3438", "d3439", "d3440", "d3441", "d3442", "d3443", "d3444", "d3445", "d3446", "d3447", "d3448", "d3449", "d3450", "d3451", "d3452", "d3453", "d3454", "d3455", "d3456", "d3457", "d3458", "d3459", "d3460", "d3461", "d3462", "d3463", "d3464", "d3465", "d3466", "d3467", "d3536", "d3537", "d3538", "d3539", "d3540", "d3541", "d3542", "d3543", "d3544", "d3545", "d3546", "d3547", "d3548", "d3549", "d3550", "d3551", "d3552", "d3553", "d3554", "d3555", "d3556", "d3557", "d3558", "d3559", "d3560", "d3561", "d3562", "d3563", "d3564", "d3565", "d3566", "d3567", "d3637", "d3638", "d3639", "d3640", "d3641", "d3642", "d3643", "d3644", "d3645", "d3646", "d3647", "d3648", "d3649", "d3650", "d3651", "d3652", "d3653", "d3654", "d3655", "d3656", "d3657", "d3658", "d3659", "d3660", "d3661", "d3662", "d3663", "d3664", "d3665", "d3666", "d3667", "d3738", "d3739", "d3740", "d3741", "d3742", "d3743", "d3744", "d3745", "d3746", "d3747", "d3748", "d3749", "d3750", "d3751", "d3752", "d3753", "d3754", "d3755", "d3756", "d3757", "d3758", "d3759", "d3760", "d3761", "d3762", "d3763", "d3764", "d3765", "d3766", "d3767", "d3839", "d3840", "d3841", "d3842", "d3843", "d3844", "d3845", "d3846", "d3847", "d3848", "d3849", "d3850", "d3851", "d3852", "d3853", "d3854", "d3855", "d3856", "d3857", "d3858", "d3859", "d3860", "d3861", "d3862", "d3863", "d3864", "d3865", "d3866", "d3867", "d3940", "d3941", "d3942", "d3943", "d3944", "d3945", "d3946", "d3947", "d3948", "d3949", "d3950", "d3951", "d3952", "d3953", "d3954", "d3955", "d3956", "d3957", "d3958", "d3959", "d3960", "d3961", "d3962", "d3963", "d3964", "d3965", "d3966", "d3967", "d4041", "d4042", "d4043", "d4044", "d4045", "d4046", "d4047", "d4048", "d4049", "d4050", "d4051", "d4052", "d4053", "d4054", "d4055", "d4056", "d4057", "d4058", "d4059", "d4060", "d4061", "d4062", "d4063", "d4064", "d4065", "d4066", "d4067", "d4142", "d4143", "d4144", "d4145", "d4146", "d4147", "d4148", "d4149", "d4150", "d4151", "d4152", "d4153", "d4154", "d4155", "d4156", "d4157", "d4158", "d4159", "d4160", "d4161", "d4162", "d4163", "d4164", "d4165", "d4166", "d4167", "d4243", "d4244", "d4245", "d4246", "d4247", "d4248", "d4249", "d4250", "d4251", "d4252", "d4253", "d4254", "d4255", "d4256", "d4257", "d4258", "d4259", "d4260", "d4261", "d4262", "d4263", "d4264", "d4265", "d4266", "d4267", "d4344", "d4345", "d4346", "d4347", "d4348", "d4349", "d4350", "d4351", "d4352", "d4353", "d4354", "d4355", "d4356", "d4357", "d4358", "d4359", "d4360", "d4361", "d4362", "d4363", "d4364", "d4365", "d4366", "d4367", "d4445", "d4446", "d4447", "d4448", "d4449", "d4450", "d4451", "d4452", "d4453", "d4454", "d4455", "d4456", "d4457", "d4458", "d4459", "d4460", "d4461", "d4462", "d4463", "d4464", "d4465", "d4466", "d4467", "d4546", "d4547", "d4548", "d4549", "d4550", "d4551", "d4552", "d4553", "d4554", "d4555", "d4556", "d4557", "d4558", "d4559", "d4560", "d4561", "d4562", "d4563", "d4564", "d4565", "d4566", "d4567", "d4647", "d4648", "d4649", "d4650", "d4651", "d4652", "d4653", "d4654", "d4655", "d4656", "d4657", "d4658", "d4659", "d4660", "d4661", "d4662", "d4663", "d4664", "d4665", "d4666", "d4667", "d4748", "d4749", "d4750", "d4751", "d4752", "d4753", "d4754", "d4755", "d4756", "d4757", "d4758", "d4759", "d4760", "d4761", "d4762", "d4763", "d4764", "d4765", "d4766", "d4767", "d4849", "d4850", "d4851", "d4852", "d4853", "d4854", "d4855", "d4856", "d4857", "d4858", "d4859", "d4860", "d4861", "d4862", "d4863", "d4864", "d4865", "d4866", "d4867", "d4950", "d4951", "d4952", "d4953", "d4954", "d4955", "d4956", "d4957", "d4958", "d4959", "d4960", "d4961", "d4962", "d4963", "d4964", "d4965", "d4966", "d4967", "d5051", "d5052", "d5053", "d5054", "d5055", "d5056", "d5057", "d5058", "d5059", "d5060", "d5061", "d5062", "d5063", "d5064", "d5065", "d5066", "d5067", "d5152", "d5153", "d5154", "d5155", "d5156", "d5157", "d5158", "d5159", "d5160", "d5161", "d5162", "d5163", "d5164", "d5165", "d5166", "d5167", "d5253", "d5254", "d5255", "d5256", "d5257", "d5258", "d5259", "d5260", "d5261", "d5262", "d5263", "d5264", "d5265", "d5266", "d5267", "d5354", "d5355", "d5356", "d5357", "d5358", "d5359", "d5360", "d5361", "d5362", "d5363", "d5364", "d5365", "d5366", "d5367", "d5455", "d5456", "d5457", "d5458", "d5459", "d5460", "d5461", "d5462", "d5463", "d5464", "d5465", "d5466", "d5467", "d5556", "d5557", "d5558", "d5559", "d5560", "d5561", "d5562", "d5563", "d5564", "d5565", "d5566", "d5567", "d5657", "d5658", "d5659", "d5660", "d5661", "d5662", "d5663", "d5664", "d5665", "d5666", "d5667", "d5758", "d5759", "d5760", "d5761", "d5762", "d5763", "d5764", "d5765", "d5766", "d5767", "d5859", "d5860", "d5861", "d5862", "d5863", "d5864", "d5865", "d5866", "d5867", "d5960", "d5961", "d5962", "d5963", "d5964", "d5965", "d5966", "d5967", "d6061", "d6062", "d6063", "d6064", "d6065", "d6066", "d6067", "d6162", "d6163", "d6164", "d6165", "d6166", "d6167", "d6263", "d6264", "d6265", "d6266", "d6267", "d6364", "d6365", "d6366", "d6367", "d6465", "d6466", "d6467", "d6566", "d6567", "d6667", "emotion"},
                                Values = values
                            }
                        },
                    },
                    GlobalParameters = new Dictionary<string, string>() { }
                };

                const string apiKey = "daHplHChEq/yhYJiILtRZSaT6lNb5Ux3wKgo7+K8fH2uFUEHeX3ORtQDO/IRrRHD84CnKT/hnyi4V1/c6928yg=="; // Replace this with the API key for the web service
                client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue("Bearer", apiKey);
                client.BaseAddress = new Uri("https://ussouthcentral.services.azureml.net/workspaces/6138d9f2d57d48eaa1a215aee0756b7b/services/8e2beec7e180440781e1777ae1386fe7/execute?api-version=2.0&details=true");
                Console.WriteLine("Created request.");


                HttpResponseMessage response = await client.PostAsJsonAsync("", scoreRequest);

                if (response.IsSuccessStatusCode)
                {
                    string result = await response.Content.ReadAsStringAsync();
                    Console.WriteLine("Response recieved.");
                    handleResult(result);
                }
                else
                {
                    Environment.Exit(-1);
                    //Console.WriteLine(string.Format("The request failed with status code: {0}", response.StatusCode));
                }
            }
        }

        static string[,] loadDistanceValues()
        {
            var pathToCSV = @"distances.csv";
            string[] lines = System.IO.File.ReadAllLines(pathToCSV);
            var values = lines[0].Split(',');


            var dict = new string[1, values.Length];

            for (int i = 0; i < values.Length; i++)
            {
                dict[0, i] = values[i];
            }

            return dict;
        }

        static void exit(int status)
        {
            Environment.ExitCode = status;
            Environment.Exit(status);
        }

        static void handleResult(string result)
        {
            var CSVs = result.Split(',');
            var numberOfCSVs = CSVs.Length;

            var angryProb = float.Parse(CSVs[numberOfCSVs - 1 - 5].Replace("\"", ""));
            var happyProb = float.Parse(CSVs[numberOfCSVs - 1 - 4].Replace("\"", ""));
            var neutralProb = float.Parse(CSVs[numberOfCSVs - 1 - 3].Replace("\"", ""));
            var sadProb = float.Parse(CSVs[numberOfCSVs - 1 - 2].Replace("\"", ""));
            var surprisedProb = float.Parse(CSVs[numberOfCSVs - 1 - 1].Replace("\"", ""));

            var maxProb = Math.Max(angryProb, Math.Max(happyProb, Math.Max(neutralProb, Math.Max(sadProb, surprisedProb))));

            if (maxProb == angryProb) exit(10);
            if (maxProb == happyProb) exit(11);
            if (maxProb == neutralProb) exit(12);
            if (maxProb == sadProb) exit(13);
            if (maxProb == surprisedProb) exit(14);
        }
    }

    public class StringTable
    {
        public string[] ColumnNames { get; set; }
        public string[,] Values { get; set; }
    }
}